<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>



    <div id="paypal-button"></div>

    <!-- PayPal Client-side API script-->
    <script src="https://www.paypalobjects.com/api/checkout.js"></script>

    <!-- Script to render button -->
    <script>
        paypal.Button.render({

            env: 'sandbox', // Optional: specify 'sandbox' environment

            client: {
                sandbox:    'AQJdTC72Ch03oVcae1unZzmjzwSs04ZYSIbLTIgElVk0oDKLAIaGWDa37hAA2DO5lsgK9H8ZtRb14DQQ',
                production: 'xxxxxxxxx'
            },

            payment: function() {

                var env    = this.props.env;
                var client = this.props.client;

                return paypal.rest.payment.create(env, client, {
                    transactions: [
                        {
                            amount: { total: '1.00', currency: 'USD' }
                        }
                    ]
                });
            },

            commit: true, // Optional: show a 'Pay Now' button in the checkout flow

            onAuthorize: function(data, actions) {

                // Optional: display a confirmation page here

                return actions.payment.execute().then(function() {
                    // Show a success page to the buyer
                });
            }

        }, '#paypal-button');
    </script>

  </body>
</html>
